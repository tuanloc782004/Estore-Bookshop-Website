<!doctype html>
<html class="no-js" lang="zxx" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/extras/spring-security6">

<head th:replace="~{user/layout/head::head}"></head>

<body>

	<div th:replace="~{user/layout/preloader-start::preloader-start}"></div>

	<header th:replace="~{user/layout/header::header}"></header>

	<main>

		<!-- slider Area Start-->
		<div class="slider-area ">
			<!-- Mobile Menu -->
			<div class="single-slider slider-height2 d-flex align-items-center"
				data-background="assets/img/hero/category.jpg"></div>
		</div>
		<!-- slider Area End-->

		<!--================Single Product Area =================-->
		<div class="product_image_area">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-lg-4">
						<div class="single_product_text text-center">
							<div class="product_img_slide owl-carousel">
								<!-- Kiểm tra nếu book.bookImages không null và không rỗng -->
								<div
									th:if="${book.bookImages != null and !book.bookImages.isEmpty()}">
									<!-- Lặp qua từng ảnh trong book.bookImages -->
									<div th:each="img : ${book.bookImages}"
										class="single_product_img">
										<img th:src="@{${img.imageUrl}}" alt="#" class="img-fluid">
									</div>
								</div>

								<!-- Nếu book.bookImages là null hoặc rỗng, hiển thị ảnh mặc định -->
								<div
									th:if="${book.bookImages == null or book.bookImages.isEmpty()}"
									class="single_product_img">
									<img th:src="@{/upload-dir/default-image/book-image.jfif}"
										alt="#" class="img-fluid">
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-8">
						<div class="single_product_text text-center">
							<h4 th:text="${book.title} + ' - ' + ${book.author}"></h4>
							<div>
								<span th:text="${book.rating}"></span> <span
									style="color: gold;">★</span> | Sold: <span
									th:text="${book.soldQuantity}"></span>
							</div>
							<div class="price">
								<ul>
									<!-- Giá sau giảm -->
									<li><span class="price-after-discount"
										th:attr="data-price=${book.price}, 
															data-discount=${book.discount}">0.00</span>
									</li>
									<!-- Giá gốc bị gạch đi -->
									<li class="discount" th:if="${book.discount > 0}"
										th:text="${'$' + book.price}"></li>
								</ul>
							</div>
							<div class="card_area">
								<div class="product_count_area">
									<p>Quantity</p>
									<div class="product_count d-inline-block">
										<span class="product_count_item inumber-decrement"> <i
											class="ti-minus"></i></span> <input
											class="product_count_item input-number" type="text" value="1"
											min="0" max="10"> <span
											class="product_count_item number-increment"> <i
											class="ti-plus"></i></span>
									</div>
									<p>Sửa logic ở phần này</p>
								</div>
								<div class="add_to_cart">
									<a href="#" class="btn_3">add to cart</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--================End Single Product Area =================-->

		<div class="whole-wrap">
			<div class="container box_1170">
				<div class="section-top-border">
					<h3 class="mb-30">Definition</h3>
					<div class="row">
						<div class="col-md-4">
							<div class="single-defination">
								<h4 class="mb-20">Detailed information</h4>
								<p>
									<strong>Year of Publication:</strong> <span
										th:text="${book.yearOfPublication}"></span>
								</p>
								<p>
									<strong>Number of Pages:</strong> <span
										th:text="${book.numOfPages}"></span>
								</p>
								<p>
									<strong>Publisher:</strong> <span
										th:text="${book.publisher.publisherName}"></span>
								</p>
								<p>
									<strong>Language:</strong> <span
										th:text="${book.language.languageName}"></span>
								</p>
							</div>
						</div>
						<div class="col-md-5">
							<div class="single-defination">
								<h4 class="mb-20">Description</h4>
								<p th:text="${book.description}"></p>
							</div>
						</div>
						<div class="col-md-3">
							<div class="single-defination">
								<h4 class="mb-20">Categories</h4>
								<ul>
									<li th:each="category : ${book.bookCategories}"
										th:text="${category.category.categoryName}"></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</main>

	<footer th:replace="~{user/layout/footer::footer}"></footer>

	<div th:replace="~{user/layout/script::script}"></div>

	<script>
		
	</script>

</body>

</html>
